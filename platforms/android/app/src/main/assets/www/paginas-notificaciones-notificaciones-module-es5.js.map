{"version":3,"sources":["webpack:///src/app/paginas/notificaciones/notificaciones.page.html","webpack:///src/app/paginas/notificaciones/notificaciones-routing.module.ts","webpack:///src/app/paginas/notificaciones/notificaciones.module.ts","webpack:///src/app/paginas/notificaciones/notificaciones.page.scss","webpack:///src/app/paginas/notificaciones/notificaciones.page.ts"],"names":["routes","path","component","NotificacionesPageRoutingModule","imports","forChild","exports","NotificacionesPageModule","declarations","NotificacionesPage","pushService","applicationRef","alertController","mensajes","pushListener","subscribe","noti","unshift","tick","console","log","getMensajes","create","cssClass","header","message","buttons","text","role","handler","blah","borrarMensajes","alert","present","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,+BAA+B;AAAA;AAAA,O;;AAA/BA,qCAA+B,6DAJ3C,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAI2C,GAA/BH,+BAA+B,CAA/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCGAI,wBAAwB;AAAA;AAAA,O;;AAAxBA,8BAAwB,6DATpC,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,8FAJO,CADD;AAORI,oBAAY,EAAE,CAAC,uEAAD;AAPN,OAAT,CASoC,GAAxBD,wBAAwB,CAAxB;;;;;;;;;;;;;;;;ACnBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCUFE,kBAAkB;AAI7B,oCAAmBC,WAAnB,EACoBC,cADpB,EAEmBC,eAFnB,EAEqD;AAAA;;AAFlC,eAAAF,WAAA,GAAAA,WAAA;AACC,eAAAC,cAAA,GAAAA,cAAA;AACD,eAAAC,eAAA,GAAAA,eAAA;AAJnB,eAAAC,QAAA,GAAoC,EAApC;AAIwD;;AAN3B;AAAA;AAAA,qCAQlB;AAAA;;AACT,iBAAKH,WAAL,CAAiBI,YAAjB,CAA8BC,SAA9B,CAAyC,UAAAC,IAAI,EAAI;AAC/C,mBAAI,CAACH,QAAL,CAAcI,OAAd,CAAuBD,IAAvB;;AACA,mBAAI,CAACL,cAAL,CAAoBO,IAApB;AACD,aAHD;AAID;AAb4B;AAAA;AAAA,6CAeP;;;;;;AAEpBC,6BAAO,CAACC,GAAR,CAAY,8BAAZ;;AACgB,6BAAM,KAAKV,WAAL,CAAiBW,WAAjB,EAAN;;;AAAhB,2BAAKR,Q;;;;;;;;;AACN;AAnB4B;AAAA;AAAA,2CAqBT;;;;;;;;;;AACJ,6BAAM,KAAKD,eAAL,CAAqBU,MAArB,CAA4B;AAC9CC,gCAAQ,EAAE,iBADoC;AAE9CC,8BAAM,EAAE,YAFsC;AAG9CC,+BAAO,EAAE,4DAHqC;AAI9CC,+BAAO,EAAE,CACP;AACEC,8BAAI,EAAE,UADR;AAEEC,8BAAI,EAAE,UAFR;AAGEL,kCAAQ,EAAE,WAHZ;AAIEM,iCAAO,EAAE,iBAACC,IAAD,EAAU;AACjBX,mCAAO,CAACC,GAAR,CAAY,sBAAZ;AACD;AANH,yBADO,EAQJ;AACDO,8BAAI,EAAE,QADL;AAEDE,iCAAO,EAAE,mBAAM;AACb,kCAAI,CAACnB,WAAL,CAAiBqB,cAAjB;;AACA,kCAAI,CAAClB,QAAL,GAAgB,EAAhB;AACAM,mCAAO,CAACC,GAAR,CAAY,cAAZ;AAED;AAPA,yBARI;AAJqC,uBAA5B,CAAN;;;AAARY,2B;;AAwBN,6BAAMA,KAAK,CAACC,OAAN,EAAN;;;;;;;;;AACD;AA/C4B;;AAAA;AAAA,S;;;;gBATtB;;gBADmB;;gBAGnB;;;;AAOIxB,wBAAkB,6DAL9B,gEAAU;AACTyB,gBAAQ,EAAE,oBADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,sHAFS;;;;AAAA,OAAV,CAK8B,GAAlB1B,kBAAkB,CAAlB","file":"paginas-notificaciones-notificaciones-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title color=\\\"primary\\\">Notificaciones</ion-title>\\n\\n    <!-- <ion-buttons slot=\\\"end\\\"> -->\\n      <ion-button slot=\\\"end\\\" (click)=\\\"borrarMensajes()\\\"\\n                  color=\\\"danger\\\"\\n                  class=\\\"bordered\\\" fill=\\\"solid\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n      </ion-button>\\n    <!-- </ion-buttons> -->\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-list>\\n   <!--  <ion-list-header>\\n      <ion-label>UserId</ion-label>\\n    </ion-list-header>\\n\\n    <ion-item>\\n      <ion-label>\\n          {{ pushService.userId }}\\n      </ion-label>\\n    </ion-item> -->\\n\\n    <!-- <ion-list-header>\\n      <ion-label>De: ZulaSoft</ion-label>\\n    </ion-list-header> -->\\n\\n    \\n    <ion-item *ngFor=\\\"let push of mensajes\\\">\\n      <ion-list>  \\n        <h5> {{ push.title }} </h5>\\n        <p> {{ push.body }} </p> \\n        <p>\\n          {{ push.additionalData | json }}\\n        </p>\\n      </ion-list>\\n    </ion-item>\\n\\n\\n  </ion-list>\\n\\n\\n\\n\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NotificacionesPage } from './notificaciones.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NotificacionesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NotificacionesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NotificacionesPageRoutingModule } from './notificaciones-routing.module';\n\nimport { NotificacionesPage } from './notificaciones.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NotificacionesPageRoutingModule\n  ],\n  declarations: [NotificacionesPage]\n})\nexport class NotificacionesPageModule {}\n","export default \".bordered {\\n  --border-radius: 10px;\\n  --box-shadow: 5px 5px 10px #d1d1d1, -5px -5px 10px #FFFFFF;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnaW5hcy9ub3RpZmljYWNpb25lcy9ub3RpZmljYWNpb25lcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxxQkFBQTtFQUNBLDBEQUFBO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdpbmFzL25vdGlmaWNhY2lvbmVzL25vdGlmaWNhY2lvbmVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ib3JkZXJlZCB7XHJcbiAgICAtLWJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgICAtLWJveC1zaGFkb3c6IDVweCA1cHggMTBweCAjZDFkMWQxLCAtNXB4IC01cHggMTBweCAjRkZGRkZGO1xyXG4gIH0iXX0= */\";","import { Component, OnInit, ApplicationRef } from '@angular/core';\nimport { PushService } from '../../services/push.service';\nimport { OSNotificationPayload } from '@ionic-native/onesignal/ngx';\nimport { AlertController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-notificaciones',\n  templateUrl: './notificaciones.page.html',\n  styleUrls: ['./notificaciones.page.scss'],\n})\nexport class NotificacionesPage implements OnInit {\n\n  mensajes: OSNotificationPayload[] = [];\n\n  constructor(public pushService: PushService,\n              private applicationRef: ApplicationRef,\n              public alertController: AlertController) { }\n\n  ngOnInit() {\n    this.pushService.pushListener.subscribe( noti => {\n      this.mensajes.unshift( noti );\n      this.applicationRef.tick();\n    });\n  }\n\n  async ionViewWillEnter(){\n\n    console.log('Will Enter = Cargar mensajes');  \n    this.mensajes = await this.pushService.getMensajes();\n  }\n\n  async borrarMensajes(){\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: '¡Atención!',\n      message: '¿Quieres borrar todas las <strong>notificaciones</strong>?',\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancelar',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Borrar',\n          handler: () => {\n            this.pushService.borrarMensajes();\n            this.mensajes = [];\n            console.log('Confirm Okay');\n            \n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n  \n}\n"]}